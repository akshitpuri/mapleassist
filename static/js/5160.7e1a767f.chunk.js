"use strict";(self.webpackChunkmapleassist=self.webpackChunkmapleassist||[]).push([[5160],{1006:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(5043),a=t(579);const i=function(e){let{onDrop:s,onMultipleFiles:t,accept:i="*",multiple:r=!1}=e;const l=(0,n.useRef)(),[o,p]=(0,n.useState)([]);return(0,a.jsxs)("div",{className:"dropzone",onDrop:e=>{e.preventDefault();const n=Array.from(e.dataTransfer.files);0!==n.length&&(p(n),r&&t?t(n):s&&s(n[0]))},onDragOver:e=>e.preventDefault(),onClick:()=>l.current.click(),children:[(0,a.jsxs)("p",{children:["Drag & drop file",r?"s":"",", or click to browse"]}),(0,a.jsx)("input",{type:"file",ref:l,accept:i,multiple:r,onChange:e=>{const n=Array.from(e.target.files);0!==n.length&&(p(n),r&&t?t(n):s&&s(n[0]))},style:{display:"none"}}),o.length>0&&(0,a.jsx)("ul",{style:{marginTop:"10px",paddingLeft:"16px"},children:o.map((e,s)=>(0,a.jsx)("li",{style:{fontSize:"0.9rem",color:"#555"},children:e.name},s))})]})}},5160:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var n=t(5043),a=t(8476),i=t(1006),r=t(6042),l=t(579);function o(){const[e,s]=(0,n.useState)([]),[o,p]=(0,n.useState)(null),c=function(e){p({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>p(null),3e3)};return(0,l.jsxs)(a.A,{title:"\ud83d\udddc\ufe0f Compress Files",children:[(0,l.jsx)(i.A,{multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.txt,.epub",onMultipleFiles:async e=>{s([]);const n=[];for(const s of e){const e=s.name.split(".").pop().toLowerCase(),a=s.name.replace(/\.[^/.]+$/,"");try{if("pdf"===e){const{PDFDocument:e}=await t.e(4489).then(t.bind(t,4489)),i=await s.arrayBuffer(),r=await e.load(i),l=await e.create();(await l.copyPages(r,r.getPageIndices())).forEach(e=>l.addPage(e));const o=await l.save(),p=new Blob([o],{type:"application/pdf"});n.push({name:`${a}_compressed.pdf`,blob:p})}else if(["png","jpg","jpeg"].includes(e)){const t=new Image;t.src=URL.createObjectURL(s),await new Promise(e=>t.onload=e);const i=document.createElement("canvas");i.width=.7*t.width,i.height=.7*t.height;i.getContext("2d").drawImage(t,0,0,i.width,i.height);const r="png"===e?"image/png":"image/jpeg",l=await new Promise(e=>i.toBlob(e,r,.6));n.push({name:`${a}_compressed.${e}`,blob:l})}else if(["txt","epub"].includes(e)){const e=(await s.text()).replace(/\s+/g," ").slice(0,3e4),t=new Blob([e],{type:"text/plain"});n.push({name:`${a}_compressed.txt`,blob:t})}else c(`Unsupported format: ${s.name}`,"warning")}catch{c(`Failed to compress ${s.name}`,"error")}}s(n),c(`Compressed ${n.length} file(s)`,"success")}}),(0,l.jsxs)("div",{style:{marginTop:"30px",fontSize:"0.95rem",lineHeight:"1.6",color:"#444"},children:[(0,l.jsx)("h2",{style:{fontSize:"1.2rem"},children:"Compress PDFs, Images, and Text Files Instantly"}),(0,l.jsx)("p",{children:"Optimize your documents, images, and plain text files for faster sharing and smaller storage. This browser-based tool safely reduces file size without server uploads."}),(0,l.jsxs)("ul",{style:{paddingLeft:"20px"},children:[(0,l.jsxs)("li",{children:["\ud83d\udddc\ufe0f PDF optimization using ",(0,l.jsx)("strong",{children:"pdf-lib"})]}),(0,l.jsx)("li",{children:"\ud83d\uddbc\ufe0f Resize and compress PNG/JPG images with Canvas API"}),(0,l.jsx)("li",{children:"\ud83d\udcc4 Trim and flatten text or EPUB files"}),(0,l.jsx)("li",{children:"\ud83d\udce6 Export compressed batch as a single ZIP"}),(0,l.jsx)("li",{children:"\ud83d\udd12 All processing is 100% local and private"})]})]}),e.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{marginTop:"30px",display:"flex",flexWrap:"wrap",gap:"20px"},children:e.map((e,s)=>{let{name:t,blob:n}=e;const a=URL.createObjectURL(n);return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("p",{style:{fontSize:"0.9rem"},children:t}),(0,l.jsx)("a",{href:a,download:t,children:(0,l.jsx)("button",{style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Download"})})]},s)})}),(0,l.jsx)("button",{onClick:async()=>{const s=(await t.e(6159).then(t.t.bind(t,6159,23))).default,{saveAs:n}=await t.e(2450).then(t.t.bind(t,2450,23)),a=new s;e.forEach(e=>{let{name:s,blob:t}=e;return a.file(s,t)});n(await a.generateAsync({type:"blob"}),"compressed_files.zip")},style:{marginTop:"30px",padding:"10px 16px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"\u2b07 Download All as ZIP"})]}),o&&(0,l.jsx)(r.A,{message:o.message,type:o.type,onClose:()=>p(null)})]})}},6042:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var n=t(579);function a(e){let{message:s,type:t="info",onClose:a}=e;return(0,n.jsxs)("div",{className:`toast toast-${t}`,role:"alert","aria-live":"assertive",style:i,children:[(0,n.jsx)("span",{style:r,children:s}),(0,n.jsx)("button",{onClick:a,style:l,"aria-label":"Dismiss notification",children:"\xd7"})]})}const i={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",backgroundColor:"#f0f0f0",fontSize:"0.95rem",color:"#333",gap:"12px",fontFamily:'"Segoe UI", system-ui, sans-serif'},r={flex:1},l={background:"transparent",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#666"}}}]);
//# sourceMappingURL=5160.7e1a767f.chunk.js.map