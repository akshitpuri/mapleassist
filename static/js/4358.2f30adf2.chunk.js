"use strict";(self.webpackChunkmapleassist=self.webpackChunkmapleassist||[]).push([[4358],{1006:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(5043),o=n(579);const s=function(e){let{onDrop:t,onMultipleFiles:n,accept:s="*",multiple:a=!1}=e;const i=(0,r.useRef)(),[l,p]=(0,r.useState)([]);return(0,o.jsxs)("div",{className:"dropzone",onDrop:e=>{e.preventDefault();const r=Array.from(e.dataTransfer.files);0!==r.length&&(p(r),a&&n?n(r):t&&t(r[0]))},onDragOver:e=>e.preventDefault(),onClick:()=>i.current.click(),children:[(0,o.jsxs)("p",{children:["Drag & drop file",a?"s":"",", or click to browse"]}),(0,o.jsx)("input",{type:"file",ref:i,accept:s,multiple:a,onChange:e=>{const r=Array.from(e.target.files);0!==r.length&&(p(r),a&&n?n(r):t&&t(r[0]))},style:{display:"none"}}),l.length>0&&(0,o.jsx)("ul",{style:{marginTop:"10px",paddingLeft:"16px"},children:l.map((e,t)=>(0,o.jsx)("li",{style:{fontSize:"0.9rem",color:"#555"},children:e.name},t))})]})}},4358:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(5043),o=n(8476),s=n(1006),a=n(6042),i=n(579);function l(){const[e,t]=(0,r.useState)([]),[l,p]=(0,r.useState)([]),[c,d]=(0,r.useState)("txt"),[u,x]=(0,r.useState)(null),f=function(e){x({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>x(null),3e3)};return(0,i.jsxs)(o.A,{title:"\ud83d\udcda eBook Converter",children:[(0,i.jsx)(s.A,{multiple:!0,accept:".epub,.mobi,.txt",onMultipleFiles:async e=>{t(e),p([]);const r=[];for(const t of e)try{const e=t.name.split(".").pop().toLowerCase(),o=t.name.replace(/\.[^/.]+$/,"");let s,a,i="";if("epub"===e){const e=(0,(await n.e(2490).then(n.bind(n,2490))).default)(t),r=document.createElement("div");e.renderTo(r,{width:1,height:1}),await e.ready;const o=e.spine.get(0);i=await e.archive.createUrl(o.href,!0)}else if("txt"===e)i=await t.text();else if("mobi"===e){f(".mobi not supported client-side (yet)","warning");continue}if("txt"===c)s=new Blob([i],{type:"text/plain"}),a=URL.createObjectURL(s),r.push({name:`${o}.txt`,url:a,blob:s});else if("pdf"===c){const{PDFDocument:e,StandardFonts:t}=await n.e(4489).then(n.bind(n,4489)),l=await e.create(),p=l.addPage(),c=await l.embedFont(t.Helvetica);p.setFont(c),p.drawText(i.slice(0,3e3),{x:50,y:p.getHeight()-50,maxWidth:500,lineHeight:20});const d=await l.save();s=new Blob([d],{type:"application/pdf"}),a=URL.createObjectURL(s),r.push({name:`${o}.pdf`,url:a,blob:s})}}catch{f(`Error converting ${t.name}`,"error")}p(r),f(`Converted ${r.length} eBook(s)`,"success")}}),(0,i.jsxs)("div",{style:{marginTop:"30px",fontSize:"0.95rem",lineHeight:"1.6",color:"#444"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.2rem"},children:"Convert eBooks to PDF or Plain Text in Your Browser"}),(0,i.jsx)("p",{children:"Upload EPUB or TXT files and instantly convert them to shareable formats like PDF and TXT. MOBI support coming soon. No server upload \u2014 all processing happens securely in your browser."}),(0,i.jsxs)("ul",{style:{paddingLeft:"20px"},children:[(0,i.jsx)("li",{children:"\ud83d\udcda Supports EPUB and TXT input formats"}),(0,i.jsx)("li",{children:"\ud83d\udd04 Output options include PDF or plain TXT"}),(0,i.jsx)("li",{children:"\ud83d\udce6 Batch conversion and ZIP packaging"}),(0,i.jsx)("li",{children:"\ud83d\udd12 Offline and private \u2014 ideal for personal libraries"})]})]}),(0,i.jsxs)("div",{style:{marginTop:"20px",display:"flex",gap:"14px",alignItems:"center"},children:[(0,i.jsx)("label",{children:"Convert to:"}),(0,i.jsxs)("select",{value:c,onChange:e=>d(e.target.value),style:{padding:"8px"},children:[(0,i.jsx)("option",{value:"txt",children:"Text (.txt)"}),(0,i.jsx)("option",{value:"pdf",children:"PDF (.pdf)"})]})]}),l.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{marginTop:"30px",display:"flex",gap:"20px",flexWrap:"wrap"},children:l.map((e,t)=>{let{name:n,url:r}=e;return(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("p",{style:{fontSize:"0.9rem"},children:n}),(0,i.jsx)("a",{href:r,download:n,children:(0,i.jsx)("button",{style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Download"})})]},t)})}),(0,i.jsx)("button",{onClick:async()=>{const e=(await n.e(6159).then(n.t.bind(n,6159,23))).default,{saveAs:t}=await n.e(2450).then(n.t.bind(n,2450,23)),r=new e;l.forEach(e=>{let{name:t,blob:n}=e;return r.file(t,n)});t(await r.generateAsync({type:"blob"}),"converted_ebooks.zip")},style:{marginTop:"30px",padding:"10px 16px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"\u2b07 Download All as ZIP"})]}),u&&(0,i.jsx)(a.A,{message:u.message,type:u.type,onClose:()=>x(null)})]})}},6042:(e,t,n)=>{n.d(t,{A:()=>o});n(5043);var r=n(579);function o(e){let{message:t,type:n="info",onClose:o}=e;return(0,r.jsxs)("div",{className:`toast toast-${n}`,role:"alert","aria-live":"assertive",style:s,children:[(0,r.jsx)("span",{style:a,children:t}),(0,r.jsx)("button",{onClick:o,style:i,"aria-label":"Dismiss notification",children:"\xd7"})]})}const s={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",backgroundColor:"#f0f0f0",fontSize:"0.95rem",color:"#333",gap:"12px",fontFamily:'"Segoe UI", system-ui, sans-serif'},a={flex:1},i={background:"transparent",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#666"}}}]);
//# sourceMappingURL=4358.2f30adf2.chunk.js.map