(self.webpackChunkmapleassist=self.webpackChunkmapleassist||[]).push([[5325],{1006:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(5043),r=n(579);const o=function(e){let{onDrop:t,onMultipleFiles:n,accept:o="*",multiple:i=!1}=e;const a=(0,s.useRef)(),[l,c]=(0,s.useState)([]);return(0,r.jsxs)("div",{className:"dropzone",onDrop:e=>{e.preventDefault();const s=Array.from(e.dataTransfer.files);0!==s.length&&(c(s),i&&n?n(s):t&&t(s[0]))},onDragOver:e=>e.preventDefault(),onClick:()=>a.current.click(),children:[(0,r.jsxs)("p",{children:["Drag & drop file",i?"s":"",", or click to browse"]}),(0,r.jsx)("input",{type:"file",ref:a,accept:o,multiple:i,onChange:e=>{const s=Array.from(e.target.files);0!==s.length&&(c(s),i&&n?n(s):t&&t(s[0]))},style:{display:"none"}}),l.length>0&&(0,r.jsx)("ul",{style:{marginTop:"10px",paddingLeft:"16px"},children:l.map((e,t)=>(0,r.jsx)("li",{style:{fontSize:"0.9rem",color:"#555"},children:e.name},t))})]})}},1815:()=>{},2787:()=>{},3237:()=>{},6042:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(5043);var s=n(579);function r(e){let{message:t,type:n="info",onClose:r}=e;return(0,s.jsxs)("div",{className:`toast toast-${n}`,role:"alert","aria-live":"assertive",style:o,children:[(0,s.jsx)("span",{style:i,children:t}),(0,s.jsx)("button",{onClick:r,style:a,"aria-label":"Dismiss notification",children:"\xd7"})]})}const o={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",backgroundColor:"#f0f0f0",fontSize:"0.95rem",color:"#333",gap:"12px",fontFamily:'"Segoe UI", system-ui, sans-serif'},i={flex:1},a={background:"transparent",border:"none",fontSize:"1.2rem",cursor:"pointer",color:"#666"}},6375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var s=n(5043),r=n(8476),o=n(1006),i=n(6042),a=n(6749),l=(n(2959),n(579));function c(){const[e,t]=(0,s.useState)(null),[c,p]=(0,s.useState)(null),[d,u]=(0,s.useState)([]),f=(0,s.useRef)(null),h=(0,s.useRef)(null),x=(0,s.useRef)(!1),g=(0,s.useRef)([]),m=function(e){p({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>p(null),3e3)};(0,s.useEffect)(()=>{e&&y(e)},[e]);const y=async e=>{const t=await e.arrayBuffer(),n=await a.getDocument({data:t}).promise,s=await n.getPage(1),r=s.getViewport({scale:1.5}),o=h.current,i=o.getContext("2d");o.width=r.width,o.height=r.height,await s.render({canvasContext:i,viewport:r}).promise;const l=f.current;l.width=r.width,l.height=r.height};return(0,l.jsxs)(r.A,{title:"\u270f\ufe0f Annotate PDF",showBackButton:!0,children:[(0,l.jsx)(o.A,{multiple:!1,accept:".pdf",onMultipleFiles:e=>t(e[0])}),(0,l.jsxs)("div",{style:{marginTop:"20px",position:"relative"},children:[(0,l.jsx)("canvas",{ref:h,style:{position:"absolute",top:0,left:0,zIndex:0}}),(0,l.jsx)("canvas",{ref:f,style:{position:"absolute",top:0,left:0,zIndex:1},onMouseDown:e=>{x.current=!0;const t=f.current.getContext("2d");t.beginPath(),t.moveTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),g.current.push([{x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY}])},onMouseMove:e=>{if(!x.current)return;const t=f.current.getContext("2d");t.lineTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),t.strokeStyle="#ff0000",t.lineWidth=2,t.stroke(),g.current[g.current.length-1].push({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})},onMouseUp:()=>{x.current=!1}})]}),(0,l.jsx)("button",{onClick:async()=>{if(!e)return m("Upload a PDF first","error");const{PDFDocument:t}=await n.e(4489).then(n.bind(n,4489)),s=await e.arrayBuffer(),r=await t.load(s),o=r.getPages()[0],i=f.current.toDataURL("image/png"),a=await r.embedPng(i),{width:l,height:c}=o.getSize();o.drawImage(a,{x:0,y:0,width:l,height:c});const p=await r.save(),d=new Blob([p],{type:"application/pdf"}),h=URL.createObjectURL(d);u([{name:`${e.name.replace(".pdf","")}_annotated.pdf`,url:h,blob:d}]),m("Annotation saved!","success")},style:{marginTop:"20px",padding:"10px 16px",backgroundColor:"#3f51b5",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export Annotated PDF"}),(0,l.jsxs)("div",{style:{marginTop:"30px",fontSize:"0.95rem",lineHeight:"1.6",color:"#444"},children:[(0,l.jsx)("h2",{style:{fontSize:"1.2rem"},children:"Draw Annotations on PDF in Browser"}),(0,l.jsxs)("p",{children:["Use your mouse or stylus to draw directly on top of your PDF \u2014 perfect for signing, sketching, or marking up documents. This tool runs entirely offline using ",(0,l.jsx)("strong",{children:"pdf-lib"})," and ",(0,l.jsx)("strong",{children:"pdfjs-dist"}),", keeping your files private."]}),(0,l.jsxs)("ul",{style:{paddingLeft:"20px"},children:[(0,l.jsx)("li",{children:"\u270f\ufe0f Freehand pen tool for quick markup"}),(0,l.jsx)("li",{children:"\ud83d\udcc4 Works with scanned forms, contracts, and notes"}),(0,l.jsx)("li",{children:"\ud83d\udd10 No upload \u2014 100% client-side"})]})]}),d.length>0&&(0,l.jsx)("div",{style:{marginTop:"30px",display:"flex",gap:"20px",flexWrap:"wrap"},children:d.map((e,t)=>{let{name:n,url:s}=e;return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("p",{style:{fontSize:"0.9rem"},children:n}),(0,l.jsx)("a",{href:s,download:n,children:(0,l.jsx)("button",{style:{marginTop:"8px",padding:"6px 12px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Download"})})]},t)})}),c&&(0,l.jsx)(i.A,{message:c.message,type:c.type,onClose:()=>p(null)})]})}},6671:()=>{},7492:()=>{},7640:()=>{}}]);
//# sourceMappingURL=5325.e918f729.chunk.js.map