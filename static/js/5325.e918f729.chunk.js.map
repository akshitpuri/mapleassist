{"version":3,"file":"static/js/5325.e918f729.chunk.js","mappings":"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","sources":["components/filetools/DropZone.js","components/Toast.js","components/filetools/pdftools/AnnotatePDF.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport './DropZone.css';\r\n\r\nfunction DropZone({ onDrop, onMultipleFiles, accept = '*', multiple = false }) {\r\n  const inputRef = useRef();\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length === 0) return;\r\n\r\n    setSelectedFiles(files);\r\n\r\n    if (multiple && onMultipleFiles) {\r\n      onMultipleFiles(files);\r\n    } else if (onDrop) {\r\n      onDrop(files[0]);\r\n    }\r\n  };\r\n\r\n  const handleClick = () => inputRef.current.click();\r\n\r\n  const handleChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    if (files.length === 0) return;\r\n\r\n    setSelectedFiles(files);\r\n\r\n    if (multiple && onMultipleFiles) {\r\n      onMultipleFiles(files);\r\n    } else if (onDrop) {\r\n      onDrop(files[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"dropzone\"\r\n      onDrop={handleDrop}\r\n      onDragOver={(e) => e.preventDefault()}\r\n      onClick={handleClick}\r\n    >\r\n      <p>Drag & drop file{multiple ? 's' : ''}, or click to browse</p>\r\n      <input\r\n        type=\"file\"\r\n        ref={inputRef}\r\n        accept={accept}\r\n        multiple={multiple}\r\n        onChange={handleChange}\r\n        style={{ display: 'none' }}\r\n      />\r\n      {selectedFiles.length > 0 && (\r\n        <ul style={{ marginTop: '10px', paddingLeft: '16px' }}>\r\n          {selectedFiles.map((file, i) => (\r\n            <li key={i} style={{ fontSize: '0.9rem', color: '#555' }}>\r\n              {file.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DropZone;\r\n","import React from 'react';\r\nimport './Toast.css';\r\n\r\nexport default function Toast({ message, type = 'info', onClose }) {\r\n  return (\r\n    <div className={`toast toast-${type}`} role=\"alert\" aria-live=\"assertive\" style={container}>\r\n      <span style={text}>{message}</span>\r\n      <button\r\n        onClick={onClose}\r\n        style={closeBtn}\r\n        aria-label=\"Dismiss notification\"\r\n      >\r\n        ×\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// 🎨 Inline Styles (optional if not defined in Toast.css)\r\nconst container = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  padding: '12px 16px',\r\n  borderRadius: '8px',\r\n  boxShadow: '0 2px 6px rgba(0,0,0,0.08)',\r\n  backgroundColor: '#f0f0f0',\r\n  fontSize: '0.95rem',\r\n  color: '#333',\r\n  gap: '12px',\r\n  fontFamily: '\"Segoe UI\", system-ui, sans-serif'\r\n};\r\n\r\nconst text = {\r\n  flex: 1\r\n};\r\n\r\nconst closeBtn = {\r\n  background: 'transparent',\r\n  border: 'none',\r\n  fontSize: '1.2rem',\r\n  cursor: 'pointer',\r\n  color: '#666'\r\n};","import React, { useState, useRef, useEffect } from 'react';\r\nimport FileToolsLayout from '../FileToolsLayout';\r\nimport DropZone from '../DropZone';\r\n\r\nimport Toast from '../../Toast';\r\nimport * as pdfjsLib from 'pdfjs-dist';\r\nimport 'pdfjs-dist/build/pdf.worker.entry';\r\n\r\nexport default function AnnotatePDF() {\r\n  const [file, setFile] = useState(null);\r\n  const [toast, setToast] = useState(null);\r\n  const [result, setResult] = useState([]);\r\n  const canvasRef = useRef(null);\r\n  const pdfCanvasRef = useRef(null);\r\n  const drawing = useRef(false);\r\n  const paths = useRef([]);\r\n\r\n  const showToast = (msg, type = 'info') => {\r\n    setToast({ message: msg, type });\r\n    setTimeout(() => setToast(null), 3000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!file) return;\r\n    renderPDF(file);\r\n  }, [file]);\r\n\r\n  const renderPDF = async (pdfFile) => {\r\n    const bytes = await pdfFile.arrayBuffer();\r\n    const pdf = await pdfjsLib.getDocument({ data: bytes }).promise;\r\n    const page = await pdf.getPage(1);\r\n    const viewport = page.getViewport({ scale: 1.5 });\r\n\r\n    const pdfCanvas = pdfCanvasRef.current;\r\n    const ctx = pdfCanvas.getContext('2d');\r\n    pdfCanvas.width = viewport.width;\r\n    pdfCanvas.height = viewport.height;\r\n    await page.render({ canvasContext: ctx, viewport }).promise;\r\n\r\n    const overlay = canvasRef.current;\r\n    overlay.width = viewport.width;\r\n    overlay.height = viewport.height;\r\n  };\r\n\r\n  const handleMouseDown = (e) => {\r\n    drawing.current = true;\r\n    const ctx = canvasRef.current.getContext('2d');\r\n    ctx.beginPath();\r\n    ctx.moveTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n    paths.current.push([{ x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY }]);\r\n  };\r\n\r\n  const handleMouseMove = (e) => {\r\n    if (!drawing.current) return;\r\n    const ctx = canvasRef.current.getContext('2d');\r\n    ctx.lineTo(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\r\n    ctx.strokeStyle = '#ff0000';\r\n    ctx.lineWidth = 2;\r\n    ctx.stroke();\r\n    paths.current[paths.current.length - 1].push({ x: e.nativeEvent.offsetX, y: e.nativeEvent.offsetY });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    drawing.current = false;\r\n  };\r\n\r\n  const exportAnnotatedPDF = async () => {\r\n    if (!file) return showToast('Upload a PDF first', 'error');\r\n    const { PDFDocument } = await import('pdf-lib');\r\n    const bytes = await file.arrayBuffer();\r\n    const doc = await PDFDocument.load(bytes);\r\n    const page = doc.getPages()[0];\r\n\r\n    const canvas = canvasRef.current;\r\n    const png = canvas.toDataURL('image/png');\r\n    const pngImage = await doc.embedPng(png);\r\n    const { width, height } = page.getSize();\r\n    page.drawImage(pngImage, {\r\n      x: 0,\r\n      y: 0,\r\n      width,\r\n      height\r\n    });\r\n\r\n    const finalBytes = await doc.save();\r\n    const blob = new Blob([finalBytes], { type: 'application/pdf' });\r\n    const url = URL.createObjectURL(blob);\r\n    setResult([{ name: `${file.name.replace('.pdf', '')}_annotated.pdf`, url, blob }]);\r\n    showToast('Annotation saved!', 'success');\r\n  };\r\n\r\n  return (\r\n    <FileToolsLayout title=\"✏️ Annotate PDF\" showBackButton>\r\n   \r\n      <DropZone multiple={false} accept=\".pdf\" onMultipleFiles={(files) => setFile(files[0])} />\r\n\r\n      <div style={{ marginTop: '20px', position: 'relative' }}>\r\n        <canvas ref={pdfCanvasRef} style={{ position: 'absolute', top: 0, left: 0, zIndex: 0 }} />\r\n        <canvas\r\n          ref={canvasRef}\r\n          style={{ position: 'absolute', top: 0, left: 0, zIndex: 1 }}\r\n          onMouseDown={handleMouseDown}\r\n          onMouseMove={handleMouseMove}\r\n          onMouseUp={handleMouseUp}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        onClick={exportAnnotatedPDF}\r\n        style={{\r\n          marginTop: '20px',\r\n          padding: '10px 16px',\r\n          backgroundColor: '#3f51b5',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '6px',\r\n          cursor: 'pointer'\r\n        }}\r\n      >\r\n        Export Annotated PDF\r\n      </button>\r\n\r\n      {/* 🔍 SEO-enhanced guidance block */}\r\n      <div style={{ marginTop: '30px', fontSize: '0.95rem', lineHeight: '1.6', color: '#444' }}>\r\n        <h2 style={{ fontSize: '1.2rem' }}>Draw Annotations on PDF in Browser</h2>\r\n        <p>\r\n          Use your mouse or stylus to draw directly on top of your PDF — perfect for signing, sketching, or marking up documents.\r\n          This tool runs entirely offline using <strong>pdf-lib</strong> and <strong>pdfjs-dist</strong>, keeping your files private.\r\n        </p>\r\n        <ul style={{ paddingLeft: '20px' }}>\r\n          <li>✏️ Freehand pen tool for quick markup</li>\r\n          <li>📄 Works with scanned forms, contracts, and notes</li>\r\n          <li>🔐 No upload — 100% client-side</li>\r\n        </ul>\r\n      </div>\r\n\r\n      {result.length > 0 && (\r\n        <div style={{ marginTop: '30px', display: 'flex', gap: '20px', flexWrap: 'wrap' }}>\r\n          {result.map(({ name, url }, i) => (\r\n            <div key={i} style={{ textAlign: 'center' }}>\r\n              <p style={{ fontSize: '0.9rem' }}>{name}</p>\r\n              <a href={url} download={name}>\r\n                <button style={{\r\n                  marginTop: '8px',\r\n                  padding: '6px 12px',\r\n                  backgroundColor: '#4caf50',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer'\r\n                }}>\r\n                  Download\r\n                </button>\r\n              </a>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}\r\n    </FileToolsLayout>\r\n  );\r\n}"],"names":["_ref","onDrop","onMultipleFiles","accept","multiple","inputRef","useRef","selectedFiles","setSelectedFiles","useState","_jsxs","className","e","preventDefault","files","Array","from","dataTransfer","length","onDragOver","onClick","handleClick","current","click","children","_jsx","type","ref","onChange","target","style","display","marginTop","paddingLeft","map","file","i","fontSize","color","name","Toast","message","onClose","role","container","text","closeBtn","justifyContent","alignItems","padding","borderRadius","boxShadow","backgroundColor","gap","fontFamily","flex","background","border","cursor","AnnotatePDF","setFile","toast","setToast","result","setResult","canvasRef","pdfCanvasRef","drawing","paths","showToast","msg","arguments","undefined","setTimeout","useEffect","renderPDF","async","bytes","pdfFile","arrayBuffer","pdf","pdfjsLib","data","promise","page","getPage","viewport","getViewport","scale","pdfCanvas","ctx","getContext","width","height","render","canvasContext","overlay","FileToolsLayout","title","showBackButton","DropZone","position","top","left","zIndex","onMouseDown","beginPath","moveTo","nativeEvent","offsetX","offsetY","push","x","y","onMouseMove","lineTo","strokeStyle","lineWidth","stroke","onMouseUp","handleMouseUp","PDFDocument","doc","load","getPages","png","toDataURL","pngImage","embedPng","getSize","drawImage","finalBytes","save","blob","Blob","url","URL","createObjectURL","replace","lineHeight","flexWrap","textAlign","href","download"],"sourceRoot":""}